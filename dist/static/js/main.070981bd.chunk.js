(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,a,t){e.exports=t(458)},378:function(e,a){},380:function(e,a){},413:function(e,a){},414:function(e,a){},456:function(e,a,t){},458:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(42),l=t.n(s),c=t(31),o=t(32),m=t(34),i=t(33),u=t(35),d=t(462),p=t(465),f=t(464),h=t(463),E=t(36),v=t.n(E),g=t(63),b=t(461),N=t(43),y=t.n(N),w=function(e){return y.a.post("/registration/login",e).then(function(e){return e.status})},O=function(e){var a=e.message;return n.a.createElement("div",null,n.a.createElement("div",{className:"alert alert-success",role:"alert"},n.a.createElement("span",{className:"glyphicon glyphicon-thumbs-up"}),n.a.createElement("span",{className:"message"},a)))},S=function(e){var a=e.message;return n.a.createElement("div",null,n.a.createElement("div",{className:"alert alert-danger",role:"alert"},n.a.createElement("span",{className:"glyphicon glyphicon-thumbs-down"}),n.a.createElement("span",{className:"message"},a)))},j="First Name",C="Last Name",_="Register",x="Cancel",k="Sign Up",R="Username",T="Password",Y="Login",q="Login",L=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).handleOnChangeUserName=function(e){t.setState({user_name:e.target.value})},t.handleOnChangePassword=function(e){t.setState({password:e.target.value})},t.onSubmit=function(){var e=Object(g.a)(v.a.mark(function e(a){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={user_name:t.state.user_name,password:t.state.password},e.next=3,w(r);case 3:200!==e.sent?(t.props.history.push("/search"),t.setState({error:!0,loginSuccess:!1})):t.setState({loginSuccess:!0,error:!1});case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.state={user_name:"",password:"",error:!1,loginSuccess:!1},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state,a=e.loginSuccess,t=e.error;return n.a.createElement("div",{className:"Login"},n.a.createElement("h1",null,q),n.a.createElement("form",{onSubmit:this.onSubmit,className:" col-12 col-md-3"},n.a.createElement("div",null,n.a.createElement("div",{className:"fields form-group"},n.a.createElement("p",null,R),n.a.createElement("input",{type:"text",name:"Username",className:"form-control",onChange:this.handleOnChangeUserName,autoComplete:"Username",required:!0})),n.a.createElement("div",{className:"fields form-group"},n.a.createElement("p",null,T),n.a.createElement("input",{type:"password",name:"Password",className:"form-control",onChange:this.handleOnChangePassword,autoComplete:"Password",required:!0})),n.a.createElement("div",{className:"buttons form-group"},n.a.createElement("button",{type:"button",onClick:this.onSubmit,className:"btn btn-primary "},Y),n.a.createElement(b.a,{to:"/register"},_)))),a&&n.a.createElement(O,{message:"Login Successful"}),t&&n.a.createElement(S,{message:"Error in Login"}))}}]),a}(r.Component),F=t(212),M=t(11),P=t(22),U=t(211),A=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).fromYear=0,t.state={form:{searchTerm:"",category:"",composites:[],fromYear:"",toYear:"",interval:""},articles:{columns:[{label:"Title",field:"title",sort:"asc"},{label:"Year",field:"year",sort:"asc"},{label:"Author",field:"author",sort:"asc"},{label:"Volume",field:"volume"},{label:"Month",field:"month"},{label:"Number",field:"number"},{label:"SE Method",field:"seMethod"},{label:"External Link",field:"url"},{label:"SE Methodology",field:"seMethodology"},{label:"Research Question",field:"researchQuestion"},{label:"Research Result",field:"researchResult"}],rows:[]}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"getSearchResults",value:function(e){var a=this;console.info(e),y.a.post("/api/books",e).then(function(e){console.log();var t=[];e.data.map(function(e){t.push({title:e.title,year:e.year,author:e.author,month:e.month,number:e.number,volume:e.volume,url:e.url,seMethod:e.seMethod,seMethodology:e.seMethodology,researchQuestion:e.researchQuestion,researchResult:e.researchResult})}),a.setState(function(e){return{articles:Object(F.a)({},e.articles,{rows:t})}})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(M.e,{initialValues:this.state.form,validationSchema:P.object({searchTerm:P.string().required("Required"),category:P.string().required("Required"),composites:P.array().of(P.object({searchTerm:P.string().required("Required"),category:P.string().required("Required"),operator:P.string().required("Required")})),fromYear:P.string().matches(/^[0-9]{4}$/,"Must be a valid year"),toYear:P.string().matches(/^[0-9]{4}$/,"Must be a valid year").when("fromYear",function(a,t){return e.fromYear=+a,t}).test("till-year","Should not be less than From Year",function(a){return!a||+a>=e.fromYear})}),onSubmit:function(a){e.getSearchResults(a)}},function(e){var a=e.values;e.isSubmitting;return n.a.createElement(M.d,null,n.a.createElement(M.c,{name:"composites"},function(e){var t=e.push,r=e.remove;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("h1",{className:"text-center"},"Advanced Search"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12"},n.a.createElement("div",{className:"search-block"},n.a.createElement("h4",null,n.a.createElement("strong",null,"Enter keywords, select fields, and select operators")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xs-12 col-md-2"}),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("div",{className:"form-group"},n.a.createElement(M.b,{name:"searchTerm"},function(e){var a=e.field;e.form;return n.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"Search Term",className:"form-control"}))}),n.a.createElement(M.a,{name:"searchTerm"},function(e){return n.a.createElement("div",{className:"errors"},e)}))),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("div",{className:"media"},n.a.createElement("div",{className:"media-left media-top"},n.a.createElement("p",{className:"in-sec"},"In")),n.a.createElement("div",{className:"media-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement(M.b,{name:"category",component:"select",placeholder:"And",className:"form-control"},n.a.createElement("option",{value:""},"Please select Search Field"),n.a.createElement("option",{value:"keywords"},"Keywords"),n.a.createElement("option",{value:"title"},"Document Title"),n.a.createElement("option",{value:"author"},"Authors")),n.a.createElement(M.a,{name:"category"},function(e){return n.a.createElement("div",{className:"errors"},e)}))),n.a.createElement("a",{className:"media-right media-top add-remove"},n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return t({searchTerm:"",operator:"",category:""})}},"+"))))),a.composites.map(function(e,a){return n.a.createElement("div",{className:"row",key:a},n.a.createElement("div",{className:"col-xs-12 col-md-2"},n.a.createElement("div",{className:"form-group"},n.a.createElement(M.b,{name:"composites[".concat(a,"].operator"),component:"select",placeholder:"And",className:"form-control"},n.a.createElement("option",{value:""},"Please select filter type"),n.a.createElement("option",{value:"and"},"And"),n.a.createElement("option",{value:"or"},"Or"),n.a.createElement("option",{value:"not"},"Not"))),n.a.createElement(M.a,{name:"composites[".concat(a,"].operator")},function(e){return n.a.createElement("div",{className:"errors"},e)})),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("div",{className:"form-group"},n.a.createElement(M.b,{name:"composites[".concat(a,"].searchTerm")},function(e){var a=e.field;e.form;return n.a.createElement("input",Object.assign({},a,{type:"text",placeholder:"Search Term",className:"form-control"}))}),n.a.createElement(M.a,{name:"composites[".concat(a,"].searchTerm")},function(e){return n.a.createElement("div",{className:"errors"},e)}))),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("div",{className:"media"},n.a.createElement("div",{className:"media-left media-top"},n.a.createElement("p",{className:"in-sec"},"In")),n.a.createElement("div",{className:"media-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement(M.b,{name:"composites[".concat(a,"].category"),component:"select",placeholder:"And",className:"form-control"},n.a.createElement("option",{value:""},"Please select Search Field"),n.a.createElement("option",{value:"keywords"},"Keywords"),n.a.createElement("option",{value:"title"},"Document Title"),n.a.createElement("option",{value:"author"},"Authors")),n.a.createElement(M.a,{name:"composites[".concat(a,"].category")},function(e){return n.a.createElement("div",{className:"errors"},e)}))),n.a.createElement("a",{className:"media-right media-top add-remove"},n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return t({searchTerm:"",operator:"",category:""})}},"+")),n.a.createElement("a",{className:"media-right media-top add-remove"},n.a.createElement("button",{className:"btn btn-default",onClick:function(){return r(a)}},"\xd7")))))}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xs-12"},n.a.createElement("h3",null,"Filter Year")),n.a.createElement("div",{className:"form-group col-xs-12 col-md-3"},n.a.createElement(M.b,{name:"fromYear"},function(e){var a=e.field;e.form;return n.a.createElement("input",Object.assign({},a,{type:"number",placeholder:"From",className:"form-control"}))}),n.a.createElement(M.a,{name:"fromYear"},function(e){return n.a.createElement("div",{className:"errors"},JSON.stringify(e))})),n.a.createElement("div",{className:"form-group col-xs-12 col-md-3"},n.a.createElement(M.b,{name:"toYear"},function(e){var a=e.field;e.form;return n.a.createElement("input",Object.assign({},a,{type:"number",placeholder:"Till",className:"form-control"}))}),n.a.createElement(M.a,{name:"toYear"},function(e){return n.a.createElement("div",{className:"errors"},e)})),n.a.createElement("div",{className:"col-xs-12"},n.a.createElement(M.b,{name:"interval"},function(e){var a=e.field;e.form;return n.a.createElement("label",null,n.a.createElement("input",Object.assign({},a,{type:"radio",name:"interval",className:"mg-rt-5",placeholder:"Till",value:"5"})),"Last Five Years articles")})),n.a.createElement("div",{className:"col-xs-12"},n.a.createElement(M.b,{name:"interval"},function(e){var a=e.field;e.form;return n.a.createElement("label",null,n.a.createElement("input",Object.assign({},a,{type:"radio",name:"interval",className:"mg-rt-5",placeholder:"Till",value:"10"})),"Last Ten Years articles")}))),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Search"))))))}))}),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"results-wrapper"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xs-12"},n.a.createElement(U.a,{striped:!0,bordered:!0,hover:!0,noBottomColumns:!0,responsive:!0,sortable:!0,noRecordsFoundLabel:"No articles found",data:this.state.articles}))))))}}]),a}(r.Component),B=t(1),Q=t.n(B),D=t(123),I=t.n(D),J=function(e){var a=e.password,t=I.a.genSaltSync(10),r=I.a.hashSync(a,t);return e.password=r,y.a.post("/registration/register",e).then(function(e){return e.status})},K=function(e){return y.a.post("/registration/validateUsername",e).then(function(e){return e.status})},V=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).handleOnChangeFirstName=function(e){t.setState({first_name:e.target.value})},t.handleOnChangeLastName=function(e){t.setState({last_name:e.target.value})},t.handleOnChangeUserName=function(e){t.setState({user_name:e.target.value})},t.handleOnChangePassword=function(e){t.setState({password:e.target.value})},t.handleOnBlur=function(){var e=Object(g.a)(v.a.mark(function e(a){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({user_name:a.target.value}),r={user_name:t.state.user_name},e.next=4,K(r);case 4:204===e.sent?t.setState({user_name_taken:!0}):t.setState({user_name_taken:!1});case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.onSubmit=function(){var e=Object(g.a)(v.a.mark(function e(a){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={first_name:t.state.first_name,last_name:t.state.last_name,user_name:t.state.user_name,password:t.state.password},e.next=4,J(r);case 4:200===e.sent?t.setState({first_name:"",last_name:"",user_name:"",password:"",register:!0,error:!1}):t.setState({error:!0,register:!1});case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.state={first_name:"",last_name:"",user_name:"",password:"",register:!1,error:!1},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state,a=e.register,t=e.error,r=e.user_name_taken;return n.a.createElement("div",{className:"Registration"},n.a.createElement("h1",null,k),n.a.createElement("form",{onSubmit:this.onSubmit,className:" col-12 col-md-3"},n.a.createElement("div",null,n.a.createElement("div",{className:"fields form-group"},n.a.createElement("p",null,j),n.a.createElement("input",{type:"text",value:this.state.first_name,className:"form-control",name:"FirstName",onChange:this.handleOnChangeFirstName})),n.a.createElement("div",{className:"fields form-group"},n.a.createElement("p",null,C),n.a.createElement("input",{type:"text",value:this.state.last_name,className:"form-control",name:"LastName",onChange:this.handleOnChangeLastName})),n.a.createElement("div",{className:"fields form-group"},n.a.createElement("p",null,R),n.a.createElement("input",{type:"text",className:Q()({error:r,"form-control":!0}),value:this.state.user_name,name:"Username",onBlur:this.handleOnBlur,onChange:this.handleOnChangeUserName,autoComplete:"Username",required:!0})),n.a.createElement("div",{className:"fields form-group"},n.a.createElement("p",null,T),n.a.createElement("input",{type:"password",value:this.state.password,className:"form-control",name:"Password",onChange:this.handleOnChangePassword,autoComplete:"password",required:!0})),n.a.createElement("div",{className:"buttons form-group"},n.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:r},_),n.a.createElement(b.a,{to:"/login"},x)))),t&&n.a.createElement(S,{message:"Error in Registration"}),a&&n.a.createElement(O,{message:"Registered Successfully"}))}}]),a}(r.Component),$=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(d.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(p.a,null,n.a.createElement(f.a,{exact:!0,path:"/register",component:V}),n.a.createElement(f.a,{exact:!0,path:"/login",component:L}),n.a.createElement(f.a,{exact:!0,path:"/search",component:A}),n.a.createElement(h.a,{from:"/",to:"login"}))))}}]),a}(r.Component);t(456),t(457);l.a.render(n.a.createElement($,null),document.getElementById("root"))}},[[213,1,2]]]);
//# sourceMappingURL=main.070981bd.chunk.js.map